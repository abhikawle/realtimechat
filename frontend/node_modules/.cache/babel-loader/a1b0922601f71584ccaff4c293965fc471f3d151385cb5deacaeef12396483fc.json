{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abhis\\\\OneDrive\\\\Pictures\\\\Desktop\\\\RealTimeChat\\\\frontend\\\\src\\\\components\\\\ChatRoom.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport MessageInput from './MessageInput';\nimport OnlineUsersList from './OnlineUsersList';\nimport TypingIndicator from './TypingIndicator';\nimport RoomHistory from './RoomHistory';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatRoom = ({\n  socket,\n  room,\n  username,\n  onLeaveRoom,\n  onChangeRoom\n}) => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [typingUser, setTypingUser] = useState('');\n  const [editingId, setEditingId] = useState(null);\n  const [editText, setEditText] = useState('');\n  const messagesEndRef = useRef(null);\n  const typingTimeoutRef = useRef(null);\n\n  // Auto-scroll to bottom when new messages arrive\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Set up Socket.io event listeners\n  useEffect(() => {\n    if (!socket) return;\n\n    // Clear messages when room changes (will be repopulated by loadHistory)\n    setMessages([]);\n    setOnlineUsers([]);\n    setIsTyping(false);\n\n    // Load chat history when joining room\n    socket.on('loadHistory', history => {\n      const formattedMessages = history.map(msg => ({\n        id: msg._id,\n        username: msg.username,\n        message: msg.message,\n        timestamp: new Date(msg.timestamp),\n        isSystem: false\n      }));\n      setMessages(formattedMessages);\n    });\n\n    // Receive new messages\n    socket.on('chatMessage', data => {\n      setMessages(prev => [...prev, {\n        id: Date.now(),\n        username: data.username,\n        message: data.message,\n        timestamp: new Date(data.timestamp),\n        isSystem: false\n      }]);\n    });\n\n    // System messages (user joined/left)\n    socket.on('systemMessage', data => {\n      setMessages(prev => [...prev, {\n        id: Date.now(),\n        message: data.message,\n        timestamp: new Date(data.timestamp),\n        isSystem: true\n      }]);\n    });\n\n    // Update online users list\n    socket.on('onlineUsers', data => {\n      setOnlineUsers(data.usernames || []);\n    });\n\n    // Show typing indicator\n    socket.on('typing', data => {\n      setTypingUser(data.username);\n      setIsTyping(true);\n\n      // Clear previous timeout\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current);\n      }\n\n      // Auto-stop typing after 3 seconds\n      typingTimeoutRef.current = setTimeout(() => {\n        setIsTyping(false);\n      }, 3000);\n    });\n\n    // Hide typing indicator\n    socket.on('stopTyping', () => {\n      setIsTyping(false);\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current);\n      }\n    });\n    return () => {\n      socket.off('loadHistory');\n      socket.off('chatMessage');\n      socket.off('systemMessage');\n      socket.off('onlineUsers');\n      socket.off('typing');\n      socket.off('stopTyping');\n    };\n  }, [socket, room]);\n  const handleSendMessage = message => {\n    if (socket && message.trim()) {\n      socket.emit('chatMessage', {\n        message,\n        room,\n        username\n      });\n      socket.emit('stopTyping', {\n        room\n      });\n    }\n  };\n  const handleTyping = () => {\n    if (socket) {\n      socket.emit('typing', {\n        room,\n        username\n      });\n    }\n  };\n  const formatTime = date => {\n    const d = new Date(date);\n    return d.toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const handleEditMessage = (messageId, messageText) => {\n    setEditingId(messageId);\n    setEditText(messageText);\n  };\n  const handleSaveEdit = messageId => {\n    if (editText.trim()) {\n      setMessages(prev => prev.map(msg => msg.id === messageId ? {\n        ...msg,\n        message: editText,\n        edited: true\n      } : msg));\n      // Edit only saved locally for now (backend support can be added later)\n      setEditingId(null);\n      setEditText('');\n    }\n  };\n  const handleDeleteMessage = messageId => {\n    if (window.confirm('Delete this message?')) {\n      setMessages(prev => prev.filter(msg => msg.id !== messageId));\n      // Delete only locally for now (backend support can be added later)\n    }\n  };\n  const handleChangeRoom = newRoom => {\n    onChangeRoom(newRoom);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-room\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"\\uD83D\\uDCC1 \", room]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onLeaveRoom,\n          className: \"leave-btn\",\n          children: \"Leave Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      children: [/*#__PURE__*/_jsxDEV(OnlineUsersList, {\n        users: onlineUsers,\n        currentUser: username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messages-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"messages\",\n          children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"\\uD83D\\uDC4B Welcome to \", room, \"!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Start the conversation...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this) : messages.map(msg => {\n            const isCurrentUser = msg.username === username;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `message ${msg.isSystem ? 'system-message' : ''} ${isCurrentUser && !msg.isSystem ? 'current-user-message' : 'other-user-message'}`,\n              children: [!msg.isSystem && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"username\",\n                  children: [\"\\uD83D\\uDC64 \", msg.username]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"timestamp\",\n                  children: formatTime(msg.timestamp)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 25\n                }, this), isCurrentUser && !msg.isSystem && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"action-btn edit-btn\",\n                    onClick: () => handleEditMessage(msg.id, msg.message),\n                    title: \"Edit\",\n                    children: \"\\u270F\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"action-btn delete-btn\",\n                    onClick: () => handleDeleteMessage(msg.id),\n                    title: \"Delete\",\n                    children: \"\\uD83D\\uDDD1\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 196,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 23\n              }, this), editingId === msg.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-edit-form\",\n                children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: editText,\n                  onChange: e => setEditText(e.target.value),\n                  className: \"edit-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"edit-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"edit-save\",\n                    onClick: () => handleSaveEdit(msg.id),\n                    children: \"Save\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"edit-cancel\",\n                    onClick: () => setEditingId(null),\n                    children: \"Cancel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `message-text ${msg.isSystem ? 'system-text' : ''}`,\n                children: [msg.isSystem ? `‚ÑπÔ∏è ${msg.message}` : msg.message, msg.edited && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"edited-tag\",\n                  children: \"(edited)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 40\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 23\n              }, this)]\n            }, msg.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this);\n          }), isTyping && /*#__PURE__*/_jsxDEV(TypingIndicator, {\n            username: typingUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MessageInput, {\n          onSendMessage: handleSendMessage,\n          onTyping: handleTyping\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RoomHistory, {\n        currentRoom: room,\n        onSelectRoom: handleChangeRoom\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatRoom, \"+bxdYf6q2wgZB8zD7JGd4PHc7ug=\");\n_c = ChatRoom;\nexport default ChatRoom;\nvar _c;\n$RefreshReg$(_c, \"ChatRoom\");","map":{"version":3,"names":["React","useState","useEffect","useRef","MessageInput","OnlineUsersList","TypingIndicator","RoomHistory","jsxDEV","_jsxDEV","ChatRoom","socket","room","username","onLeaveRoom","onChangeRoom","_s","messages","setMessages","onlineUsers","setOnlineUsers","isTyping","setIsTyping","typingUser","setTypingUser","editingId","setEditingId","editText","setEditText","messagesEndRef","typingTimeoutRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","on","history","formattedMessages","map","msg","id","_id","message","timestamp","Date","isSystem","data","prev","now","usernames","clearTimeout","setTimeout","off","handleSendMessage","trim","emit","handleTyping","formatTime","date","d","toLocaleTimeString","hour","minute","handleEditMessage","messageId","messageText","handleSaveEdit","edited","handleDeleteMessage","window","confirm","filter","handleChangeRoom","newRoom","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","users","currentUser","length","isCurrentUser","title","value","onChange","e","target","ref","onSendMessage","onTyping","currentRoom","onSelectRoom","_c","$RefreshReg$"],"sources":["C:/Users/abhis/OneDrive/Pictures/Desktop/RealTimeChat/frontend/src/components/ChatRoom.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport MessageInput from './MessageInput';\r\nimport OnlineUsersList from './OnlineUsersList';\r\nimport TypingIndicator from './TypingIndicator';\r\nimport RoomHistory from './RoomHistory';\r\n\r\nconst ChatRoom = ({ socket, room, username, onLeaveRoom, onChangeRoom }) => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [onlineUsers, setOnlineUsers] = useState([]);\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  const [typingUser, setTypingUser] = useState('');\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [editText, setEditText] = useState('');\r\n  const messagesEndRef = useRef(null);\r\n  const typingTimeoutRef = useRef(null);\r\n\r\n  // Auto-scroll to bottom when new messages arrive\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  // Set up Socket.io event listeners\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    // Clear messages when room changes (will be repopulated by loadHistory)\r\n    setMessages([]);\r\n    setOnlineUsers([]);\r\n    setIsTyping(false);\r\n\r\n    // Load chat history when joining room\r\n    socket.on('loadHistory', (history) => {\r\n      const formattedMessages = history.map(msg => ({\r\n        id: msg._id,\r\n        username: msg.username,\r\n        message: msg.message,\r\n        timestamp: new Date(msg.timestamp),\r\n        isSystem: false\r\n      }));\r\n      setMessages(formattedMessages);\r\n    });\r\n\r\n    // Receive new messages\r\n    socket.on('chatMessage', (data) => {\r\n      setMessages(prev => [...prev, {\r\n        id: Date.now(),\r\n        username: data.username,\r\n        message: data.message,\r\n        timestamp: new Date(data.timestamp),\r\n        isSystem: false\r\n      }]);\r\n    });\r\n\r\n    // System messages (user joined/left)\r\n    socket.on('systemMessage', (data) => {\r\n      setMessages(prev => [...prev, {\r\n        id: Date.now(),\r\n        message: data.message,\r\n        timestamp: new Date(data.timestamp),\r\n        isSystem: true\r\n      }]);\r\n    });\r\n\r\n    // Update online users list\r\n    socket.on('onlineUsers', (data) => {\r\n      setOnlineUsers(data.usernames || []);\r\n    });\r\n\r\n    // Show typing indicator\r\n    socket.on('typing', (data) => {\r\n      setTypingUser(data.username);\r\n      setIsTyping(true);\r\n      \r\n      // Clear previous timeout\r\n      if (typingTimeoutRef.current) {\r\n        clearTimeout(typingTimeoutRef.current);\r\n      }\r\n      \r\n      // Auto-stop typing after 3 seconds\r\n      typingTimeoutRef.current = setTimeout(() => {\r\n        setIsTyping(false);\r\n      }, 3000);\r\n    });\r\n\r\n    // Hide typing indicator\r\n    socket.on('stopTyping', () => {\r\n      setIsTyping(false);\r\n      if (typingTimeoutRef.current) {\r\n        clearTimeout(typingTimeoutRef.current);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.off('loadHistory');\r\n      socket.off('chatMessage');\r\n      socket.off('systemMessage');\r\n      socket.off('onlineUsers');\r\n      socket.off('typing');\r\n      socket.off('stopTyping');\r\n    };\r\n  }, [socket, room]);\r\n\r\n  const handleSendMessage = (message) => {\r\n    if (socket && message.trim()) {\r\n      socket.emit('chatMessage', { message, room, username });\r\n      socket.emit('stopTyping', { room });\r\n    }\r\n  };\r\n\r\n  const handleTyping = () => {\r\n    if (socket) {\r\n      socket.emit('typing', { room, username });\r\n    }\r\n  };\r\n\r\n  const formatTime = (date) => {\r\n    const d = new Date(date);\r\n    return d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n  };\r\n\r\n  const handleEditMessage = (messageId, messageText) => {\r\n    setEditingId(messageId);\r\n    setEditText(messageText);\r\n  };\r\n\r\n  const handleSaveEdit = (messageId) => {\r\n    if (editText.trim()) {\r\n      setMessages(prev => prev.map(msg => \r\n        msg.id === messageId ? { ...msg, message: editText, edited: true } : msg\r\n      ));\r\n      // Edit only saved locally for now (backend support can be added later)\r\n      setEditingId(null);\r\n      setEditText('');\r\n    }\r\n  };\r\n\r\n  const handleDeleteMessage = (messageId) => {\r\n    if (window.confirm('Delete this message?')) {\r\n      setMessages(prev => prev.filter(msg => msg.id !== messageId));\r\n      // Delete only locally for now (backend support can be added later)\r\n    }\r\n  };\r\n\r\n  const handleChangeRoom = (newRoom) => {\r\n    onChangeRoom(newRoom);\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat-room\">\r\n      {/* Header */}\r\n      <div className=\"chat-header\">\r\n        <div className=\"header-content\">\r\n          <h2>üìÅ {room}</h2>\r\n          <button onClick={onLeaveRoom} className=\"leave-btn\">Leave Room</button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Chat Container */}\r\n      <div className=\"chat-container\">\r\n        {/* Online Users Sidebar (Left) */}\r\n        <OnlineUsersList users={onlineUsers} currentUser={username} />\r\n\r\n        {/* Messages Section (Center) */}\r\n        <div className=\"messages-section\">\r\n          <div className=\"messages\">\r\n            {messages.length === 0 ? (\r\n              <div className=\"empty-state\">\r\n                <p>üëã Welcome to {room}!</p>\r\n                <p>Start the conversation...</p>\r\n              </div>\r\n            ) : (\r\n              messages.map((msg) => {\r\n                const isCurrentUser = msg.username === username;\r\n                return (\r\n                  <div \r\n                    key={msg.id} \r\n                    className={`message ${msg.isSystem ? 'system-message' : ''} ${isCurrentUser && !msg.isSystem ? 'current-user-message' : 'other-user-message'}`}\r\n                  >\r\n                    {!msg.isSystem && (\r\n                      <div className=\"message-header\">\r\n                        <span className=\"username\">üë§ {msg.username}</span>\r\n                        <span className=\"timestamp\">{formatTime(msg.timestamp)}</span>\r\n                        {isCurrentUser && !msg.isSystem && (\r\n                          <div className=\"message-actions\">\r\n                            <button \r\n                              className=\"action-btn edit-btn\"\r\n                              onClick={() => handleEditMessage(msg.id, msg.message)}\r\n                              title=\"Edit\"\r\n                            >\r\n                              ‚úèÔ∏è\r\n                            </button>\r\n                            <button \r\n                              className=\"action-btn delete-btn\"\r\n                              onClick={() => handleDeleteMessage(msg.id)}\r\n                              title=\"Delete\"\r\n                            >\r\n                              üóëÔ∏è\r\n                            </button>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                    {editingId === msg.id ? (\r\n                      <div className=\"message-edit-form\">\r\n                        <textarea\r\n                          value={editText}\r\n                          onChange={(e) => setEditText(e.target.value)}\r\n                          className=\"edit-input\"\r\n                        />\r\n                        <div className=\"edit-actions\">\r\n                          <button \r\n                            className=\"edit-save\"\r\n                            onClick={() => handleSaveEdit(msg.id)}\r\n                          >\r\n                            Save\r\n                          </button>\r\n                          <button \r\n                            className=\"edit-cancel\"\r\n                            onClick={() => setEditingId(null)}\r\n                          >\r\n                            Cancel\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <div className={`message-text ${msg.isSystem ? 'system-text' : ''}`}>\r\n                        {msg.isSystem ? `‚ÑπÔ∏è ${msg.message}` : msg.message}\r\n                        {msg.edited && <span className=\"edited-tag\">(edited)</span>}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })\r\n            )}\r\n            {isTyping && <TypingIndicator username={typingUser} />}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          {/* Message Input */}\r\n          <MessageInput onSendMessage={handleSendMessage} onTyping={handleTyping} />\r\n        </div>\r\n\r\n        {/* Room History Sidebar (Right) */}\r\n        <RoomHistory currentRoom={room} onSelectRoom={handleChangeRoom} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatRoom;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}